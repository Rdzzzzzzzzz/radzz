<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rainy Gallery | Upload & Share Your Moments</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff4e50;
            --dark: #121212;
            --light: #f8f9fa;
            --gray: #6c757d;
        }
        
        body {
            background: linear-gradient(rgba(26, 42, 108, 0.85), rgba(43, 88, 118, 0.85), rgba(78, 67, 118, 0.85)), 
                        url('https://files.catbox.moe/bk3qjn.jpg') no-repeat center center fixed;
            background-size: cover;
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Efek hujan */
        .rain-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .rain-drop {
            position: absolute;
            width: 2px;
            height: 20px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2));
            border-radius: 0 0 5px 5px;
            animation: rain linear infinite;
        }
        
        @keyframes rain {
            to {
                transform: translateY(100vh);
            }
        }
        
        /* Efek kilat/petir */
        .lightning {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            opacity: 0;
            z-index: 0;
            pointer-events: none;
        }
        
        .flash {
            animation: flash 0.5s ease-out;
        }
        
        @keyframes flash {
            0% { opacity: 0; }
            25% { opacity: 0.6; }
            50% { opacity: 0.3; }
            75% { opacity: 0.7; }
            100% { opacity: 0; }
        }
        
        /* Hamburger Menu */
        .hamburger-menu {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
        }
        
        .hamburger-menu:hover {
            transform: scale(1.1);
            background: var(--primary);
        }
        
        .hamburger-menu span {
            display: block;
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            border-radius: 2px;
            transition: all 0.3s;
        }
        
        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100%;
            background: rgba(18, 18, 18, 0.95);
            backdrop-filter: blur(10px);
            z-index: 999;
            padding: 80px 20px 20px;
            transition: right 0.3s ease;
            overflow-y: auto;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.5);
        }
        
        .sidebar.active {
            right: 0;
        }
        
        .sidebar-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .sidebar-close:hover {
            color: var(--accent);
        }
        
        .sidebar-menu {
            list-style: none;
            margin-top: 30px;
        }
        
        .sidebar-menu li {
            margin-bottom: 15px;
        }
        
        .sidebar-menu a {
            color: white;
            text-decoration: none;
            font-size: 1.2rem;
            display: block;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .sidebar-menu a:hover {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            transform: translateX(-5px);
        }
        
        .sidebar-menu a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .developer-info {
            margin-top: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            text-align: center;
        }
        
        .developer-info h3 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.4rem;
        }
        
        .profile-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
            margin: 0 auto 15px;
            display: block;
            box-shadow: 0 0 20px rgba(106, 17, 203, 0.5);
        }
        
        .developer-info p {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .developer-info strong {
            margin-right: 5px;
            color: var(--primary);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        header {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            padding: 2.5rem 0;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            font-weight: 700;
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .upload-section {
            background: rgba(0, 0, 0, 0.7);
            padding: 2.5rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h2 {
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 2.2rem;
            color: var(--primary);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
            padding: 0 20px;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            border-radius: 3px;
        }
        
        .form-group {
            margin-bottom: 1.8rem;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 600;
            color: var(--secondary);
            font-size: 1.1rem;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            font-size: 1rem;
            transition: all 0.3s;
            border: 2px solid transparent;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.2);
            transform: translateY(-2px);
        }
        
        textarea {
            min-height: 140px;
            resize: vertical;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
        }
        
        .checkbox-group label {
            margin: 0;
            font-weight: normal;
        }
        
        .privacy-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .privacy-public {
            background-color: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            border: 1px solid #4CAF50;
        }
        
        .privacy-private {
            background-color: rgba(244, 67, 54, 0.2);
            color: #F44336;
            border: 1px solid #F44336;
        }
        
        button {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            padding: 16px 35px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: block;
            margin: 0 auto;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.5s;
            z-index: 1;
        }
        
        button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        button:hover::before {
            left: 100%;
        }
        
        .gallery-section {
            background: rgba(0, 0, 0, 0.7);
            padding: 2.5rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            margin-top: 2rem;
        }
        
        .gallery-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            position: relative;
        }
        
        .gallery-item:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        .gallery-image {
            width: 100%;
            height: 240px;
            object-fit: cover;
            display: block;
            transition: transform 0.5s;
        }
        
        .gallery-item:hover .gallery-image {
            transform: scale(1.1);
        }
        
        .gallery-info {
            padding: 20px;
        }
        
        .gallery-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--primary);
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .gallery-meta {
            font-size: 0.95rem;
            color: #ccc;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .gallery-views {
            display: flex;
            align-items: center;
            gap: 5px;
            background: rgba(0, 0, 0, 0.3);
            padding: 5px 10px;
            border-radius: 20px;
        }
        
        .gallery-description {
            font-size: 1rem;
            color: #eee;
            margin-top: 15px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .divider {
            height: 1px;
            background: linear-gradient(to right, transparent, var(--primary), transparent);
            margin: 15px 0;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            margin-top: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .file-info {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #ccc;
            text-align: center;
        }
        
        .empty-gallery {
            text-align: center;
            padding: 60px 40px;
            color: #ccc;
            font-size: 1.2rem;
            grid-column: 1 / -1;
        }
        
        .empty-gallery i {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
            color: var(--primary);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: rgba(18, 18, 18, 0.95);
            margin: 40px auto;
            max-width: 900px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-header {
            padding: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .modal-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin: 0;
            font-weight: 700;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--accent);
            transform: rotate(90deg);
        }
        
        .modal-body {
            padding: 0;
        }
        
        .modal-image-container {
            padding: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.2);
        }
        
        .modal-image {
            width: 100%;
            max-height: 500px;
            object-fit: contain;
            display: block;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }
        
        .modal-info {
            padding: 30px;
        }
        
        .modal-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .modal-meta div {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }
        
        .modal-meta strong {
            display: block;
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .modal-meta span {
            font-size: 1.2rem;
            color: #fff;
            font-weight: 500;
        }
        
        .modal-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .stat-box {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid var(--secondary);
        }
        
        .stat-box i {
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .stat-box .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
            color: #fff;
            display: block;
        }
        
        .stat-box .stat-label {
            font-size: 1rem;
            color: #ccc;
        }
        
        .modal-description {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid var(--accent);
        }
        
        .modal-description strong {
            display: block;
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .modal-description p {
            line-height: 1.6;
            color: #fff;
            font-size: 1.1rem;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 20px;
            }
            
            .sidebar {
                width: 280px;
            }
            
            .modal-content {
                margin: 20px auto;
            }
            
            .upload-section, .gallery-section {
                padding: 2rem;
            }
            
            .modal-meta {
                grid-template-columns: 1fr;
            }
            
            .modal-stats {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.8rem;
            }
            
            .upload-section, .gallery-section {
                padding: 1.5rem;
            }
            
            .gallery {
                grid-template-columns: 1fr;
            }
            
            .hamburger-menu {
                top: 15px;
                right: 15px;
                width: 40px;
                height: 40px;
            }
            
            .profile-img {
                width: 80px;
                height: 80px;
            }
            
            .modal-image {
                max-height: 300px;
            }
            
            .modal-header {
                padding: 20px;
            }
            
            .modal-title {
                font-size: 1.4rem;
            }
            
            .modal-image-container, .modal-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="rain-container" id="rain-container"></div>
    <div class="lightning" id="lightning"></div>
    
    <!-- Hamburger Menu -->
    <div class="hamburger-menu" id="hamburger-menu">
        <span></span>
        <span></span>
        <span></span>
    </div>
    
    <!-- Sidebar Menu -->
    <div class="sidebar" id="sidebar">
        <button class="sidebar-close" id="sidebar-close">&times;</button>
        <ul class="sidebar-menu">
            <li><a href="#" id="menu-home"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="#" id="menu-upload"><i class="fas fa-upload"></i> Upload Gambar</a></li>
        </ul>
        
        <div class="developer-info">
            <img src="https://files.catbox.moe/eokpv8.jpg" alt="Radz" class="profile-img">
            <h3>Developer Info</h3>
            <p><strong>Nama:</strong> Radz</p>
            <p><strong>Role:</strong> Full Stack Developer</p>
            <p><strong>Email:</strong> radz@example.com</p>
            <p><strong>Website:</strong> www.radzdev.com</p>
        </div>
    </div>
    
    <!-- Modal untuk detail gambar -->
    <div class="modal" id="image-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-image-title">Judul Gambar</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-image-container">
                    <img src="" alt="" class="modal-image" id="modal-image">
                </div>
                <div class="modal-info">
                    <div class="modal-meta">
                        <div>
                            <strong><i class="fas fa-calendar-alt"></i> Tanggal Upload</strong>
                            <span id="modal-image-date">-</span>
                        </div>
                        <div>
                            <strong><i class="fas fa-user"></i> Creator</strong>
                            <span id="modal-image-creator">-</span>
                        </div>
                        <div>
                            <strong><i class="fas fa-globe"></i> Status</strong>
                            <span id="modal-image-status">-</span>
                        </div>
                    </div>
                    
                    <div class="modal-stats">
                        <div class="stat-box">
                            <i class="fas fa-eye"></i>
                            <span class="stat-number" id="modal-image-views">0</span>
                            <span class="stat-label">Total Views</span>
                        </div>
                    </div>
                    
                    <div class="modal-description">
                        <strong><i class="fas fa-align-left"></i> Description</strong>
                        <p id="modal-image-description">-</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1>Rainy Gallery</h1>
            <p>Upload dan bagikan momen berharga Anda</p>
        </header>
        
        <!-- Home Page (Gallery) -->
        <div class="page active" id="home-page">
            <section class="gallery-section">
                <h2>Gallery Foto</h2>
                <div class="gallery" id="image-gallery">
                    <!-- Gambar akan ditambahkan secara dinamis di sini -->
                </div>
            </section>
        </div>
        
        <!-- Upload Page -->
        <div class="page" id="upload-page">
            <section class="upload-section">
                <h2>Upload Gambar Baru</h2>
                <form id="upload-form">
                    <div class="form-group">
                        <label for="image-title"><i class="fas fa-heading"></i> Judul</label>
                        <input type="text" id="image-title" placeholder="Masukkan judul gambar" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="image-date"><i class="fas fa-calendar"></i> Tanggal Upload</label>
                        <input type="text" id="image-date" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="image-creator"><i class="fas fa-user"></i> Nama Uploader</label>
                        <input type="text" id="image-creator" placeholder="Nama Anda" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="image-description"><i class="fas fa-align-left"></i> Description</label>
                        <textarea id="image-description" placeholder="Deskripsi gambar" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="image-file"><i class="fas fa-image"></i> Pilih Gambar (JPG, PNG, WebP, GIF)</label>
                        <input type="file" id="image-file" accept=".jpg,.jpeg,.png,.webp,.gif,.bmp,.tiff" required>
                        <p class="file-info">Format yang didukung: JPG, JPEG, PNG, WebP, GIF, BMP, TIFF</p>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-lock"></i> Pengaturan Privasi</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="image-public" checked>
                            <label for="image-public">Jadikan gambar public (dapat dilihat semua orang)</label>
                        </div>
                    </div>
                    
                    <button type="submit"><i class="fas fa-cloud-upload-alt"></i> Upload Gambar</button>
                </form>
            </section>
        </div>
        
        <footer>
            <p>© 2023 Rainy Gallery. All rights reserved. | Designed with ❤️ by Radz</p>
        </footer>
    </div>

    <script>
        // Fungsi untuk membuat efek hujan
        function createRain() {
            const rainContainer = document.getElementById('rain-container');
            const rainCount = 200; // Jumlah tetesan hujan
            
            for (let i = 0; i < rainCount; i++) {
                const drop = document.createElement('div');
                drop.classList.add('rain-drop');
                
                // Posisi acak
                const posX = Math.random() * 100;
                const posY = Math.random() * -100;
                
                // Ukuran dan kecepatan acak
                const size = Math.random() * 2 + 1;
                const duration = Math.random() * 1 + 0.5;
                
                drop.style.left = `${posX}vw`;
                drop.style.top = `${posY}px`;
                drop.style.width = `${size}px`;
                drop.style.height = `${size * 10}px`;
                drop.style.animationDuration = `${duration}s`;
                drop.style.animationDelay = `${Math.random() * 2}s`;
                
                rainContainer.appendChild(drop);
            }
        }
        
        // Fungsi untuk efek kilat/petir
        function lightningEffect() {
            const lightning = document.getElementById('lightning');
            
            // Munculkan kilat secara acak setiap 5-15 detik
            setInterval(() => {
                lightning.classList.add('flash');
                setTimeout(() => {
                    lightning.classList.remove('flash');
                }, 1000);
            }, Math.random() * 10000 + 5000);
        }
        
        // Format tanggal menjadi dd-mm-yyyy
        function formatDate(date) {
            const d = new Date(date);
            const day = String(d.getDate()).padStart(2, '0');
            const month = String(d.getMonth() + 1).padStart(2, '0');
            const year = d.getFullYear();
            return `${day}-${month}-${year}`;
        }
        
        // Set tanggal upload otomatis
        function setUploadDate() {
            const now = new Date();
            document.getElementById('image-date').value = formatDate(now);
        }
        
        // Handle form upload
        document.getElementById('upload-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('image-title').value;
            const date = document.getElementById('image-date').value;
            const creator = document.getElementById('image-creator').value;
            const description = document.getElementById('image-description').value;
            const fileInput = document.getElementById('image-file');
            const file = fileInput.files[0];
            const isPublic = document.getElementById('image-public').checked;
            
            // Validasi tipe file
            const validImageTypes = ['image/jpeg', 'image/png', 'image/webp', 'image/gif', 'image/bmp', 'image/tiff'];
            if (!validImageTypes.includes(file.type)) {
                alert('Format file tidak didukung. Silakan upload file dengan format JPG, PNG, WebP, atau GIF.');
                return;
            }
            
            if (file) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const imageUrl = e.target.result;
                    
                    // Tambahkan gambar ke gallery
                    addImageToGallery(title, date, creator, description, imageUrl, isPublic);
                    
                    // Reset form
                    document.getElementById('upload-form').reset();
                    setUploadDate();
                    document.getElementById('image-public').checked = true;
                    
                    // Simpan ke localStorage
                    saveImageToStorage(title, date, creator, description, imageUrl, isPublic);
                    
                    // Tampilkan notifikasi
                    alert('Gambar berhasil diupload!');
                    
                    // Kembali ke halaman home
                    showPage('home-page');
                };
                
                reader.readAsDataURL(file);
            }
        });
        
        // Tambahkan gambar ke gallery
        function addImageToGallery(title, date, creator, description, imageUrl, isPublic) {
            const gallery = document.getElementById('image-gallery');
            
            const galleryItem = document.createElement('div');
            galleryItem.classList.add('gallery-item');
            galleryItem.dataset.title = title;
            galleryItem.dataset.date = date;
            galleryItem.dataset.creator = creator;
            galleryItem.dataset.description = description;
            galleryItem.dataset.image = imageUrl;
            galleryItem.dataset.views = 0;
            galleryItem.dataset.id = Date.now().toString();
            galleryItem.dataset.public = isPublic;
            
            const privacyBadge = isPublic 
                ? '<span class="privacy-badge privacy-public"><i class="fas fa-globe"></i> Public</span>' 
                : '<span class="privacy-badge privacy-private"><i class="fas fa-lock"></i> Private</span>';
            
            galleryItem.innerHTML = `
                <img src="${imageUrl}" alt="${title}" class="gallery-image">
                <div class="gallery-info">
                    <h3 class="gallery-title">${title} ${privacyBadge}</h3>
                    <div class="gallery-meta">
                        <div>Oleh: ${creator} | ${date}</div>
                        <div class="gallery-views">
                            <i class="fas fa-eye"></i> <span class="views-count">0</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <p class="gallery-description">${description}</p>
                </div>
            `;
            
            // Tambahkan event listener untuk membuka modal
            galleryItem.addEventListener('click', function() {
                openModal(
                    this.dataset.id,
                    this.dataset.title,
                    this.dataset.date,
                    this.dataset.creator,
                    this.dataset.description,
                    this.dataset.image,
                    parseInt(this.dataset.views),
                    this.dataset.public === 'true'
                );
            });
            
            gallery.prepend(galleryItem);
        }
        
        // Simpan gambar ke localStorage
        function saveImageToStorage(title, date, creator, description, imageUrl, isPublic) {
            let images = JSON.parse(localStorage.getItem('galleryImages')) || [];
            const id = Date.now().toString();
            
            images.unshift({
                id,
                title,
                date,
                creator,
                description,
                imageUrl,
                views: 0,
                public: isPublic
            });
            
            localStorage.setItem('galleryImages', JSON.stringify(images));
        }
        
        // Muat gambar dari localStorage
        function loadImagesFromStorage() {
            const images = JSON.parse(localStorage.getItem('galleryImages')) || [];
            const gallery = document.getElementById('image-gallery');
            
            if (images.length === 0) {
                gallery.innerHTML = `
                    <div class="empty-gallery">
                        <i class="fas fa-images"></i>
                        <p>Belum ada gambar di gallery</p>
                        <p>Silakan upload gambar pertama Anda!</p>
                    </div>
                `;
                return;
            }
            
            gallery.innerHTML = '';
            
            images.forEach(image => {
                const galleryItem = document.createElement('div');
                galleryItem.classList.add('gallery-item');
                galleryItem.dataset.id = image.id;
                galleryItem.dataset.title = image.title;
                galleryItem.dataset.date = image.date;
                galleryItem.dataset.creator = image.creator;
                galleryItem.dataset.description = image.description;
                galleryItem.dataset.image = image.imageUrl;
                galleryItem.dataset.views = image.views || 0;
                galleryItem.dataset.public = image.public || true;
                
                const privacyBadge = image.public 
                    ? '<span class="privacy-badge privacy-public"><i class="fas fa-globe"></i> Public</span>' 
                    : '<span class="privacy-badge privacy-private"><i class="fas fa-lock"></i> Private</span>';
                
                galleryItem.innerHTML = `
                    <img src="${image.imageUrl}" alt="${image.title}" class="gallery-image">
                    <div class="gallery-info">
                        <h3 class="gallery-title">${image.title} ${privacyBadge}</h3>
                        <div class="gallery-meta">
                            <div>Oleh: ${image.creator} | ${image.date}</div>
                            <div class="gallery-views">
                                <i class="fas fa-eye"></i> <span class="views-count">${image.views || 0}</span>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <p class="gallery-description">${image.description}</p>
                    </div>
                `;
                
                // Tambahkan event listener untuk membuka modal
                galleryItem.addEventListener('click', function() {
                    openModal(
                        this.dataset.id,
                        this.dataset.title,
                        this.dataset.date,
                        this.dataset.creator,
                        this.dataset.description,
                        this.dataset.image,
                        parseInt(this.dataset.views),
                        this.dataset.public === 'true'
                    );
                });
                
                gallery.appendChild(galleryItem);
            });
        }
        
        // Fungsi untuk membuka modal dengan detail gambar
        function openModal(id, title, date, creator, description, imageUrl, views, isPublic) {
            // Update views
            views++;
            
            // Update data di localStorage
            let images = JSON.parse(localStorage.getItem('galleryImages')) || [];
            const imageIndex = images.findIndex(img => img.id === id);
            if (imageIndex !== -1) {
                images[imageIndex].views = views;
                localStorage.setItem('galleryImages', JSON.stringify(images));
            }
            
            // Update views di gallery item
            const galleryItem = document.querySelector(`.gallery-item[data-id="${id}"]`);
            if (galleryItem) {
                galleryItem.dataset.views = views;
                const viewsCount = galleryItem.querySelector('.views-count');
                if (viewsCount) {
                    viewsCount.textContent = views;
                }
            }
            
            // Set modal content
            document.getElementById('modal-image-title').textContent = title;
            document.getElementById('modal-image-date').textContent = date;
            document.getElementById('modal-image-creator').textContent = creator;
            document.getElementById('modal-image-description').textContent = description;
            document.getElementById('modal-image').src = imageUrl;
            document.getElementById('modal-image-views').textContent = views;
            
            // Set status public/private
            const statusElement = document.getElementById('modal-image-status');
            if (isPublic) {
                statusElement.innerHTML = '<span class="privacy-badge privacy-public"><i class="fas fa-globe"></i> Public</span>';
            } else {
                statusElement.innerHTML = '<span class="privacy-badge privacy-private"><i class="fas fa-lock"></i> Private</span>';
            }
            
            const modal = document.getElementById('image-modal');
            modal.style.display = 'block';
            modal.dataset.imageId = id;
            
            // Tambahkan event listener untuk menutup modal
            document.getElementById('modal-close').addEventListener('click', closeModal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            // Tutup modal dengan tombol ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });
        }
        
        // Fungsi untuk menutup modal
        function closeModal() {
            document.getElementById('image-modal').style.display = 'none';
        }
        
        // Fungsi untuk menampilkan halaman tertentu
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }
        
        // Fungsi untuk sidebar menu
        function setupSidebar() {
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const sidebar = document.getElementById('sidebar');
            const sidebarClose = document.getElementById('sidebar-close');
            const menuHome = document.getElementById('menu-home');
            const menuUpload = document.getElementById('menu-upload');
            
            hamburgerMenu.addEventListener('click', function() {
                sidebar.classList.toggle('active');
            });
            
            sidebarClose.addEventListener('click', function() {
                sidebar.classList.remove('active');
            });
            
            menuHome.addEventListener('click', function(e) {
                e.preventDefault();
                sidebar.classList.remove('active');
                showPage('home-page');
            });
            
            menuUpload.addEventListener('click', function(e) {
                e.preventDefault();
                sidebar.classList.remove('active');
                showPage('upload-page');
            });
            
            // Tutup sidebar ketika klik di luar
            document.addEventListener('click', function(e) {
                if (!sidebar.contains(e.target) && !hamburgerMenu.contains(e.target) && sidebar.classList.contains('active')) {
                    sidebar.classList.remove('active');
                }
            });
        }
        
        // Inisialisasi
        window.onload = function() {
            createRain();
            lightningEffect();
            setUploadDate();
            loadImagesFromStorage();
            setupSidebar();
            
            // Update tanggal setiap menit
            setInterval(setUploadDate, 60000);
        };
    </script>
</body>
</html>